From 437bb42fd15d6f23f095ba6972bc5b4e0e162236 Mon Sep 17 00:00:00 2001
From: Dan Negvesky <dnegvesky@reflexces.com>
Date: Wed, 15 Jun 2022 09:59:05 -0400
Subject: [PATCH 1/1] remove sdram size check

Signed-off-by: Dan Negvesky <dnegvesky@reflexces.com>
---
 drivers/ddr/altera/sdram_arria10.c | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

diff --git a/drivers/ddr/altera/sdram_arria10.c b/drivers/ddr/altera/sdram_arria10.c
index f11609c820..7570f2407f 100644
--- a/drivers/ddr/altera/sdram_arria10.c
+++ b/drivers/ddr/altera/sdram_arria10.c
@@ -8,7 +8,7 @@
 #include <fdtdec.h>
 #include <init.h>
 #include <log.h>
-#include <hang.h>
+//#include <hang.h>
 #include <malloc.h>
 #include <wait_bit.h>
 #include <watchdog.h>
@@ -657,6 +657,7 @@ static int of_sdram_firewall_setup(const void *blob)
 	return 0;
 }
 
+/*
 static void sdram_size_check(void)
 {
 	phys_size_t ram_check = 0;
@@ -672,6 +673,7 @@ static void sdram_size_check(void)
 
 	debug("DDR: SDRAM size check passed!\n");
 }
+*/
 
 int ddr_calibration_sequence(void)
 {
@@ -708,6 +710,7 @@ int ddr_calibration_sequence(void)
 	/* setup the dram info within bd */
 	dram_init_banksize();
 
+	/*
 	if (gd->ram_size != gd->bd->bi_dram[0].size) {
 		printf("DDR: Warning: DRAM size from device tree (%ld MiB)\n",
 		       gd->bd->bi_dram[0].size >> 20);
@@ -720,6 +723,7 @@ int ddr_calibration_sequence(void)
 		printf(" than hardware size.\n");
 		hang();
 	}
+	*/
 
 	if (of_sdram_firewall_setup(gd->fdt_blob))
 		puts("FW: Error Configuring Firewall\n");
@@ -727,7 +731,7 @@ int ddr_calibration_sequence(void)
 	if (sdram_is_ecc_enabled())
 		sdram_init_ecc_bits();
 
-	sdram_size_check();
+	//sdram_size_check();
 
 	return 0;
 }
-- 
2.25.1

